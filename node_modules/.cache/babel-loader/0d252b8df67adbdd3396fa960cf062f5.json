{"ast":null,"code":"import _slicedToArray from\"C:/Users/DELL/OneDrive/Desktop/whatsApp clone/whatsappclone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import'./Sidebar.css';import{Avatar,IconButton}from'@material-ui/core';import DonutLargeicon from\"@material-ui/icons/DonutLarge\";import ChatIcon from\"@material-ui/icons/Chat\";import MoreVertIcon from\"@material-ui/icons/MoreVert\";import SearchOutlined from\"@material-ui/icons/SearchOutlined\";import SidebarChat from\"./SidebarChat\";import db from\"./firebase\";import{useStateValue}from'./StateProvider';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Sidebar(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),rooms=_useState2[0],setRooms=_useState2[1];var _useStateValue=useStateValue(),_useStateValue2=_slicedToArray(_useStateValue,2),user=_useStateValue2[0].user,dispatch=_useStateValue2[1];useEffect(function(){var unsubscribe=db.collection('rooms').onSnapshot(function(snapshot){return setRooms(snapshot.docs.map(function(doc){return{id:doc.id,data:doc.data()};}));});return function(){unsubscribe();};},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar__header\",children:[/*#__PURE__*/_jsx(Avatar,{src:user===null||user===void 0?void 0:user.photoURL}),/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar__rightheader\",children:[/*#__PURE__*/_jsx(IconButton,{children:/*#__PURE__*/_jsx(DonutLargeicon,{})}),/*#__PURE__*/_jsx(IconButton,{children:/*#__PURE__*/_jsx(ChatIcon,{})}),/*#__PURE__*/_jsx(IconButton,{children:/*#__PURE__*/_jsx(MoreVertIcon,{})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"sidebar__search\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar__searchcontainer\",children:[/*#__PURE__*/_jsx(SearchOutlined,{}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Search or start new Chat\",type:\"text\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar__chat\",children:[/*#__PURE__*/_jsx(SidebarChat,{addNewChat:true}),rooms.map(function(room){return/*#__PURE__*/_jsx(SidebarChat,{id:room.id,name:room.data.name},room.id);})]})]});}export default Sidebar;","map":{"version":3,"sources":["C:/Users/DELL/OneDrive/Desktop/whatsApp clone/whatsappclone/src/Sidebar.js"],"names":["React","useEffect","useState","Avatar","IconButton","DonutLargeicon","ChatIcon","MoreVertIcon","SearchOutlined","SidebarChat","db","useStateValue","Sidebar","rooms","setRooms","user","dispatch","unsubscribe","collection","onSnapshot","snapshot","docs","map","doc","id","data","photoURL","room","name"],"mappings":"kLAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA0BC,QAA1B,KAA0C,OAA1C,CACA,MAAO,eAAP,CACA,OAAQC,MAAR,CAAgBC,UAAhB,KAAkC,mBAAlC,CACA,MAAOC,CAAAA,cAAP,KAA2B,+BAA3B,CACA,MAAOC,CAAAA,QAAP,KAAqB,yBAArB,CACA,MAAOC,CAAAA,YAAP,KAAyB,6BAAzB,CACA,MAAOC,CAAAA,cAAP,KAA2B,mCAA3B,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,CACA,MAAOC,CAAAA,EAAP,KAAe,YAAf,CACA,OAASC,aAAT,KAA8B,iBAA9B,C,wFAIA,QAASC,CAAAA,OAAT,EAAmB,CACnB,cAAuBV,QAAQ,CAAC,EAAD,CAA/B,wCAAOW,KAAP,eAAaC,QAAb,eACA,mBAA0BH,aAAa,EAAvC,kDAAQI,IAAR,oBAAQA,IAAR,CAAcC,QAAd,oBAEAf,SAAS,CAAC,UAAM,CACb,GAAMgB,CAAAA,WAAW,CAAGP,EAAE,CAACQ,UAAH,CAAc,OAAd,EAAuBC,UAAvB,CAAkC,SAAAC,QAAQ,QACzDN,CAAAA,QAAQ,CAACM,QAAQ,CAACC,IAAT,CAAcC,GAAd,CAAkB,SAACC,GAAD,QACtB,CACGC,EAAE,CAAED,GAAG,CAACC,EADX,CAEGC,IAAI,CAAEF,GAAG,CAACE,IAAJ,EAFT,CADsB,EAAlB,CAAD,CADiD,EAA1C,CAApB,CASC,MAAO,WAAM,CACTR,WAAW,GACd,CAFD,CAGH,CAbQ,CAaP,EAbO,CAAT,CAgBI,mBACI,aAAK,SAAS,CAAC,SAAf,wBAEI,aAAK,SAAS,CAAC,iBAAf,wBACI,KAAC,MAAD,EAAQ,GAAG,CAAEF,IAAF,SAAEA,IAAF,iBAAEA,IAAI,CAAEW,QAAnB,EADJ,cAEI,aAAK,SAAS,CAAC,sBAAf,wBACI,KAAC,UAAD,wBACI,KAAC,cAAD,IADJ,EADJ,cAII,KAAC,UAAD,wBACI,KAAC,QAAD,IADJ,EAJJ,cAOI,KAAC,UAAD,wBACI,KAAC,YAAD,IADJ,EAPJ,GAFJ,GAFJ,cAiBI,YAAK,SAAS,CAAC,iBAAf,uBACI,aAAoB,SAAS,CAAC,0BAA9B,wBACI,KAAC,cAAD,IADJ,cAEI,cAAO,WAAW,CAAC,0BAAnB,CAA8C,IAAI,CAAC,MAAnD,EAFJ,GADJ,EAjBJ,cAuBI,aAAK,SAAS,CAAC,eAAf,wBACI,KAAC,WAAD,EAAa,UAAU,KAAvB,EADJ,CAEKb,KAAK,CAACS,GAAN,CAAU,SAACK,IAAD,qBACP,KAAC,WAAD,EAA2B,EAAE,CAAEA,IAAI,CAACH,EAApC,CACA,IAAI,CAAEG,IAAI,CAACF,IAAL,CAAUG,IADhB,EAAkBD,IAAI,CAACH,EAAvB,CADO,EAAV,CAFL,GAvBJ,GADJ,CAiCH,CAED,cAAeZ,CAAAA,OAAf","sourcesContent":["import React, { useEffect,useState } from 'react';\r\nimport './Sidebar.css';\r\nimport {Avatar, IconButton} from  '@material-ui/core';\r\nimport DonutLargeicon from \"@material-ui/icons/DonutLarge\";\r\nimport ChatIcon from \"@material-ui/icons/Chat\";\r\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\r\nimport SearchOutlined from \"@material-ui/icons/SearchOutlined\";\r\nimport SidebarChat from \"./SidebarChat\";\r\nimport db from \"./firebase\";\r\nimport { useStateValue } from './StateProvider';\r\n\r\n\r\n\r\nfunction Sidebar() {\r\nconst [rooms,setRooms]=useState([]);\r\nconst [{user},dispatch] = useStateValue();\r\n\r\nuseEffect(() => {\r\n   const unsubscribe = db.collection('rooms').onSnapshot(snapshot => (\r\n        setRooms(snapshot.docs.map((doc) => \r\n            ({\r\n                id: doc.id,\r\n                data: doc.data(),\r\n            })\r\n        ))\r\n    ))\r\n\r\n    return () => {\r\n        unsubscribe();\r\n    };\r\n},[])\r\n\r\n\r\n    return (\r\n        <div className=\"sidebar\">\r\n          \r\n            <div className=\"sidebar__header\">\r\n                <Avatar src={user?.photoURL}/>\r\n                <div className=\"sidebar__rightheader\">\r\n                    <IconButton>\r\n                        <DonutLargeicon />\r\n                    </IconButton>   \r\n                    <IconButton>\r\n                        <ChatIcon />\r\n                    </IconButton>\r\n                    <IconButton>\r\n                        <MoreVertIcon/>\r\n                    </IconButton>\r\n                </div>\r\n            </div>\r\n            \r\n            <div className=\"sidebar__search\">\r\n                <div                className=\"sidebar__searchcontainer\">\r\n                    <SearchOutlined/>\r\n                    <input placeholder=\"Search or start new Chat\" type=\"text\"/>\r\n                </div>\r\n            </div>\r\n            <div className=\"sidebar__chat\">\r\n                <SidebarChat addNewChat />\r\n                {rooms.map((room) => (\r\n                    <SidebarChat key={room.id} id={room.id}\r\n                    name={room.data.name}/>\r\n                    ))}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Sidebar\r\n"]},"metadata":{},"sourceType":"module"}