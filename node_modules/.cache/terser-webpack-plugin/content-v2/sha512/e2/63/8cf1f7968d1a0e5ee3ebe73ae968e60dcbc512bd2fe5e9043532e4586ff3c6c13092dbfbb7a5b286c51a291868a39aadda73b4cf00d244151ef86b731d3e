{"code":"(this.webpackJsonpwhatsappclone=this.webpackJsonpwhatsappclone||[]).push([[0],{73:function(e,t,c){},74:function(e,t,c){},75:function(e,t,c){},76:function(e,t,c){},90:function(e,t,c){},91:function(e,t,c){},93:function(e,t,c){\"use strict\";c.r(t);var a=c(2),n=c.n(a),s=c(31),r=c.n(s),i=(c(73),c(16)),o=(c(74),c(75),c(112)),j=c(107),d=c(57),l=c.n(d),b=c(58),h=c.n(b),u=c(59),O=c.n(u),m=c(60),p=c.n(m),x=(c(76),c(34)),f=c(52);c.n(f).a.config();var v=x.a.initializeApp({apiKey:\"AIzaSyAjrkUGPTcGDkx7w6CMFhRFpwH3fkUPaKk\",authDomain:\"whats-app-clone-c4173.firebaseapp.com\",projectId:\"whats-app-clone-c4173\",storageBucket:\"whats-app-clone-c4173.appspot.com\",messagingSenderId:\"149483622254\",appId:\"1:149483622254:web:a21fe8e21462ea8386bb7f\",measurementId:\"G-2FC9XJBYCB\"}).firestore(),g=x.a.auth(),_=new x.a.auth.GoogleAuthProvider,N=v,S=c(35),C=c(4);var w=function(e){var t,c=e.id,n=e.name,s=e.addNewChat,r=Object(a.useState)(\"\"),j=Object(i.a)(r,2),d=j[0],l=j[1],b=Object(a.useState)(\"\"),h=Object(i.a)(b,2),u=h[0],O=h[1];return Object(a.useEffect)((function(){c&&N.collection(\"rooms\").doc(c).collection(\"messages\").orderBy(\"timestamp\",\"desc\").onSnapshot((function(e){return O(e.docs.map((function(e){return e.data()})))}))}),[]),Object(a.useEffect)((function(){l(Math.floor(5e3*Math.random()))}),[]),s?Object(C.jsx)(\"div\",{onClick:function(){var e=prompt(\"Please enter name for chat\");e&&N.collection(\"rooms\").add({name:e})},className:\"sidebarChat\",children:Object(C.jsx)(\"h2\",{children:\"add new chat\"})}):Object(C.jsx)(S.b,{to:\"/rooms/\".concat(c),children:Object(C.jsxs)(\"div\",{className:\"sidebarChat\",children:[Object(C.jsx)(o.a,{src:\" http://avatars.dicebear.com/api/human/\"+d+\".svg\"}),Object(C.jsxs)(\"div\",{className:\"sidebarChat__info\",children:[Object(C.jsx)(\"h2\",{children:n}),Object(C.jsx)(\"p\",{children:null===(t=u[0])||void 0===t?void 0:t.message})]})]})})},y=Object(a.createContext)(),I=function(e){var t=e.reducer,c=e.initialState,n=e.children;return Object(C.jsx)(y.Provider,{value:Object(a.useReducer)(t,c),children:n})},k=function(){return Object(a.useContext)(y)};var D=function(){var e=Object(a.useState)([]),t=Object(i.a)(e,2),c=t[0],n=t[1],s=k(),r=Object(i.a)(s,2),d=r[0].user;return r[1],Object(a.useEffect)((function(){var e=N.collection(\"rooms\").onSnapshot((function(e){return n(e.docs.map((function(e){return{id:e.id,data:e.data()}})))}));return function(){e()}}),[]),Object(C.jsxs)(\"div\",{className:\"sidebar\",children:[Object(C.jsxs)(\"div\",{className:\"sidebar__header\",children:[Object(C.jsx)(o.a,{src:null===d||void 0===d?void 0:d.photoURL}),Object(C.jsxs)(\"div\",{className:\"sidebar__rightheader\",children:[Object(C.jsx)(j.a,{children:Object(C.jsx)(l.a,{})}),Object(C.jsx)(j.a,{children:Object(C.jsx)(h.a,{})}),Object(C.jsx)(j.a,{children:Object(C.jsx)(O.a,{})})]})]}),Object(C.jsx)(\"div\",{className:\"sidebar__search\",children:Object(C.jsxs)(\"div\",{className:\"sidebar__searchcontainer\",children:[Object(C.jsx)(p.a,{}),Object(C.jsx)(\"input\",{placeholder:\"Search or start new Chat\",type:\"text\"})]})}),Object(C.jsxs)(\"div\",{className:\"sidebar__chat\",children:[Object(C.jsx)(w,{addNewChat:!0}),c.map((function(e){return Object(C.jsx)(w,{id:e.id,name:e.data.name},e.id)}))]})]})},E=(c(90),c(108)),F=c(109),P=c(110),T=c(61),B=c.n(T),M=c(62),U=c.n(M),A=c(11);var G=function(){var e,t,c=Object(a.useState)(\"\"),n=Object(i.a)(c,2),s=n[0],r=n[1],d=Object(a.useState)(\"\"),l=Object(i.a)(d,2),b=l[0],h=l[1],u=Object(A.f)().roomId,O=Object(a.useState)(\"\"),m=Object(i.a)(O,2),p=m[0],f=m[1],v=Object(a.useState)([]),g=Object(i.a)(v,2),_=g[0],S=g[1],w=k(),y=Object(i.a)(w,2),I=y[0].user;return y[1],Object(a.useEffect)((function(){u&&(N.collection(\"rooms\").doc(u).onSnapshot((function(e){return f(e.data().name)})),N.collection(\"rooms\").doc(u).collection(\"messages\").orderBy(\"timestamp\",\"asc\").onSnapshot((function(e){return S(e.docs.map((function(e){return e.data()})))})))}),[u]),Object(a.useEffect)((function(){h(Math.floor(5e3*Math.random()))}),[]),Object(C.jsxs)(\"div\",{className:\"chat\",children:[Object(C.jsxs)(\"div\",{className:\"chat__header\",children:[Object(C.jsx)(o.a,{src:\" http://avatars.dicebear.com/api/human/\"+b+\".svg\"}),Object(C.jsxs)(\"div\",{className:\"chat__headerInfo\",children:[Object(C.jsx)(\"h3\",{children:p}),Object(C.jsxs)(\"p\",{children:[\"Last seen\",\" \",new Date(null===(e=_[_.length-1])||void 0===e||null===(t=e.timestamp)||void 0===t?void 0:t.toDate()).toUTCString()]})]}),Object(C.jsxs)(\"div\",{className:\"chat__headerright\",children:[Object(C.jsx)(j.a,{children:Object(C.jsx)(E.a,{})}),Object(C.jsx)(j.a,{children:Object(C.jsx)(F.a,{})}),Object(C.jsx)(j.a,{children:Object(C.jsx)(P.a,{})})]})]}),Object(C.jsx)(\"div\",{className:\"chat__body\",children:_.map((function(e){var t;return Object(C.jsxs)(\"p\",{className:\"chat__message \".concat(e.name===I.displayName&&\"chat__reciever\"),children:[Object(C.jsx)(\"span\",{className:\"chat__name\",children:e.name}),e.message,Object(C.jsx)(\"span\",{className:\"chat__timestamp\",children:new Date(null===(t=e.timestamp)||void 0===t?void 0:t.toDate()).toUTCString()})]})}))}),Object(C.jsxs)(\"div\",{className:\"chat__footer\",children:[Object(C.jsx)(B.a,{}),Object(C.jsxs)(\"form\",{children:[Object(C.jsx)(\"input\",{value:s,onChange:function(e){return r(e.target.value)},placeholder:\"Type a message\",type:\"text\"}),Object(C.jsx)(\"button\",{type:\"submit\",onClick:function(e){e.preventDefault(),N.collection(\"rooms\").doc(u).collection(\"messages\").add({message:s,name:I.displayName,timestamp:x.a.firestore.FieldValue.serverTimestamp()}),r(\"\")},children:\"send a message\"})]}),Object(C.jsx)(U.a,{})]})]})},L=c(63),R=c(64),J=c.n(R),z=c(111),K=(c(91),c(49)),H=\"SET_USER\",V=function(e,t){switch(console.log(t),t.type){case H:return Object(K.a)(Object(K.a)({},e),{},{user:t.user});default:return e}};var W=function(){var e=k(),t=Object(i.a)(e,2);Object(L.a)(t[0]);var c=t[1];return Object(C.jsx)(\"div\",{className:\"Login\",children:Object(C.jsxs)(\"div\",{className:\"login__container\",children:[Object(C.jsx)(J.a,{}),Object(C.jsx)(\"div\",{className:\"login__text\",children:Object(C.jsx)(\"h1\",{children:\"Sign In\"})}),Object(C.jsx)(z.a,{type:\"submit\",onClick:function(){g.signInWithPopup(_).then((function(e){c({type:H,user:e.user})})).catch((function(e){return alert(e.message)}))},children:\"Sign in with Google\"})]})})};var X=function(){var e=k(),t=Object(i.a)(e,2),c=t[0].user;return t[1],Object(C.jsx)(\"div\",{className:\"App\",children:c?Object(C.jsx)(\"div\",{className:\"app__body\",children:Object(C.jsxs)(S.a,{children:[Object(C.jsx)(D,{}),Object(C.jsxs)(A.c,{children:[Object(C.jsx)(A.a,{path:\"/rooms/:roomId\",children:Object(C.jsx)(G,{})}),Object(C.jsx)(A.a,{path:\"/\",children:Object(C.jsx)(G,{})})]})]})}):Object(C.jsx)(W,{})})},Y=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,113)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,s=t.getLCP,r=t.getTTFB;c(e),a(e),n(e),s(e),r(e)}))};r.a.render(Object(C.jsx)(n.a.StrictMode,{children:Object(C.jsx)(I,{initialState:{user:null},reducer:V,children:Object(C.jsx)(X,{})})}),document.getElementById(\"root\")),Y()}},[[93,1,2]]]);","name":"static/js/main.e659f149.chunk.js","map":{"version":3,"sources":["static/js/main.e659f149.chunk.js"],"names":["this","push","73","module","exports","__webpack_require__","74","75","76","90","91","93","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","slicedToArray","Avatar","IconButton","DonutLarge","DonutLarge_default","Chat","Chat_default","MoreVert","MoreVert_default","SearchOutlined","SearchOutlined_default","index_esm","main","a","config","db","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","auth","provider","GoogleAuthProvider","firebase","react_router_dom","jsx_runtime","src_SidebarChat","_ref","_messages$","id","name","addNewChat","_useState","Object","_useState2","seed","setSeed","_useState3","_useState4","messages","setMessages","collection","doc","orderBy","onSnapshot","snapshot","docs","map","data","Math","floor","random","onClick","roomName","prompt","add","className","children","to","concat","src","message","StateContext","StateProvider_StateProvider","reducer","initialState","Provider","value","StateProvider_useStateValue","src_Sidebar","rooms","setRooms","_useStateValue","_useStateValue2","user","unsubscribe","photoURL","placeholder","type","room","esm_SearchOutlined","AttachFile","esm_MoreVert","InsertEmoticon","InsertEmoticon_default","Mic","Mic_default","react_router","src_Chat_0","_messages","_messages$timestamp","input","setInput","roomId","_useState5","_useState6","setRoomName","_useState7","_useState8","Date","length","timestamp","toDate","toUTCString","_message$timestamp","displayName","onChange","e","target","preventDefault","FieldValue","serverTimestamp","objectDestructuringEmpty","WhatsApp","WhatsApp_default","Button","objectSpread2","actionTypes","src_reducer","state","action","console","log","src_Login","dispatch","signInWithPopup","then","result","catch","error","alert","src_App","path","src_reportWebVitals","onPerfEntry","Function","bind","getCLS","getFID","getFCP","getLCP","getTTFB","render","StrictMode","document","getElementById"],"mappings":"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"},"input":"(this[\"webpackJsonpwhatsappclone\"] = this[\"webpackJsonpwhatsappclone\"] || []).push([[0],{\n\n/***/ 73:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 74:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 75:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 76:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 90:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 91:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 93:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(2);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(31);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(73);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 5 modules\nvar slicedToArray = __webpack_require__(16);\n\n// EXTERNAL MODULE: ./src/App.css\nvar App = __webpack_require__(74);\n\n// EXTERNAL MODULE: ./src/Sidebar.css\nvar Sidebar = __webpack_require__(75);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Avatar/Avatar.js + 1 modules\nvar Avatar = __webpack_require__(112);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/IconButton/IconButton.js\nvar IconButton = __webpack_require__(107);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/DonutLarge.js\nvar DonutLarge = __webpack_require__(57);\nvar DonutLarge_default = /*#__PURE__*/__webpack_require__.n(DonutLarge);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/Chat.js\nvar Chat = __webpack_require__(58);\nvar Chat_default = /*#__PURE__*/__webpack_require__.n(Chat);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/MoreVert.js\nvar MoreVert = __webpack_require__(59);\nvar MoreVert_default = /*#__PURE__*/__webpack_require__.n(MoreVert);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/SearchOutlined.js\nvar SearchOutlined = __webpack_require__(60);\nvar SearchOutlined_default = /*#__PURE__*/__webpack_require__.n(SearchOutlined);\n\n// EXTERNAL MODULE: ./src/SidebarChat.css\nvar SidebarChat = __webpack_require__(76);\n\n// EXTERNAL MODULE: ./node_modules/firebase/dist/index.esm.js + 16 modules\nvar index_esm = __webpack_require__(34);\n\n// EXTERNAL MODULE: ./node_modules/dotenv/lib/main.js\nvar main = __webpack_require__(52);\nvar main_default = /*#__PURE__*/__webpack_require__.n(main);\n\n// CONCATENATED MODULE: ./src/firebase.js\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\nmain_default.a.config();var firebaseConfig={apiKey:\"AIzaSyAjrkUGPTcGDkx7w6CMFhRFpwH3fkUPaKk\",authDomain:\"whats-app-clone-c4173.firebaseapp.com\",projectId:\"whats-app-clone-c4173\",storageBucket:\"whats-app-clone-c4173.appspot.com\",messagingSenderId:\"149483622254\",appId:\"1:149483622254:web:a21fe8e21462ea8386bb7f\",measurementId:\"G-2FC9XJBYCB\"};// process.env.FIREBASE;\nvar firebaseApp=index_esm[\"a\" /* default */].initializeApp(firebaseConfig);var db=firebaseApp.firestore();var auth=index_esm[\"a\" /* default */].auth();var provider=new index_esm[\"a\" /* default */].auth.GoogleAuthProvider();/* harmony default export */ var firebase = (db);\n// EXTERNAL MODULE: ./node_modules/react-router-dom/esm/react-router-dom.js\nvar react_router_dom = __webpack_require__(35);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(4);\n\n// CONCATENATED MODULE: ./src/SidebarChat.js\nfunction SidebarChat_SidebarChat(_ref){var _messages$;var id=_ref.id,name=_ref.name,addNewChat=_ref.addNewChat;var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),seed=_useState2[0],setSeed=_useState2[1];var _useState3=Object(react[\"useState\"])(\"\"),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),messages=_useState4[0],setMessages=_useState4[1];Object(react[\"useEffect\"])(function(){if(id){firebase.collection('rooms').doc(id).collection(\"messages\").orderBy('timestamp',\"desc\").onSnapshot(function(snapshot){return setMessages(snapshot.docs.map(function(doc){return doc.data();}));});}},[]);Object(react[\"useEffect\"])(function(){setSeed(Math.floor(Math.random()*5000));},[]);var createChat=function createChat(){var roomName=prompt(\"Please enter name for chat\");if(roomName){//do somet\nfirebase.collection('rooms').add({name:roomName});}};return!addNewChat?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/rooms/\".concat(id),children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"sidebarChat\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Avatar[\"a\" /* default */],{src:\" http://avatars.dicebear.com/api/human/\"+seed+\".svg\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"sidebarChat__info\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:name}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:(_messages$=messages[0])===null||_messages$===void 0?void 0:_messages$.message})]})]})}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{onClick:createChat,className:\"sidebarChat\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"add new chat\"})});}/* harmony default export */ var src_SidebarChat = (SidebarChat_SidebarChat);\n// CONCATENATED MODULE: ./src/StateProvider.js\nvar StateContext=/*#__PURE__*/Object(react[\"createContext\"])();var StateProvider_StateProvider=function StateProvider(_ref){var reducer=_ref.reducer,initialState=_ref.initialState,children=_ref.children;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(StateContext.Provider,{value:Object(react[\"useReducer\"])(reducer,initialState),children:children});};var StateProvider_useStateValue=function useStateValue(){return Object(react[\"useContext\"])(StateContext);};\n// CONCATENATED MODULE: ./src/Sidebar.js\nfunction Sidebar_Sidebar(){var _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),rooms=_useState2[0],setRooms=_useState2[1];var _useStateValue=StateProvider_useStateValue(),_useStateValue2=Object(slicedToArray[\"a\" /* default */])(_useStateValue,2),user=_useStateValue2[0].user,dispatch=_useStateValue2[1];Object(react[\"useEffect\"])(function(){var unsubscribe=firebase.collection('rooms').onSnapshot(function(snapshot){return setRooms(snapshot.docs.map(function(doc){return{id:doc.id,data:doc.data()};}));});return function(){unsubscribe();};},[]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"sidebar\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"sidebar__header\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Avatar[\"a\" /* default */],{src:user===null||user===void 0?void 0:user.photoURL}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"sidebar__rightheader\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(DonutLarge_default.a,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Chat_default.a,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MoreVert_default.a,{})})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"sidebar__search\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"sidebar__searchcontainer\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SearchOutlined_default.a,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{placeholder:\"Search or start new Chat\",type:\"text\"})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"sidebar__chat\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_SidebarChat,{addNewChat:true}),rooms.map(function(room){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_SidebarChat,{id:room.id,name:room.data.name},room.id);})]})]});}/* harmony default export */ var src_Sidebar = (Sidebar_Sidebar);\n// EXTERNAL MODULE: ./src/Chat.css\nvar src_Chat = __webpack_require__(90);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/esm/SearchOutlined.js\nvar esm_SearchOutlined = __webpack_require__(108);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/esm/AttachFile.js\nvar AttachFile = __webpack_require__(109);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/esm/MoreVert.js\nvar esm_MoreVert = __webpack_require__(110);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/InsertEmoticon.js\nvar InsertEmoticon = __webpack_require__(61);\nvar InsertEmoticon_default = /*#__PURE__*/__webpack_require__.n(InsertEmoticon);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/Mic.js\nvar Mic = __webpack_require__(62);\nvar Mic_default = /*#__PURE__*/__webpack_require__.n(Mic);\n\n// EXTERNAL MODULE: ./node_modules/react-router/esm/react-router.js\nvar react_router = __webpack_require__(11);\n\n// CONCATENATED MODULE: ./src/Chat.js\nfunction Chat_Chat(){var _messages,_messages$timestamp;var _useState=Object(react[\"useState\"])(\"\"),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),input=_useState2[0],setInput=_useState2[1];var _useState3=Object(react[\"useState\"])(''),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),seed=_useState4[0],setSeed=_useState4[1];var _useParams=Object(react_router[\"f\" /* useParams */])(),roomId=_useParams.roomId;var _useState5=Object(react[\"useState\"])(\"\"),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),roomName=_useState6[0],setRoomName=_useState6[1];var _useState7=Object(react[\"useState\"])([]),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),messages=_useState8[0],setMessages=_useState8[1];var _useStateValue=StateProvider_useStateValue(),_useStateValue2=Object(slicedToArray[\"a\" /* default */])(_useStateValue,2),user=_useStateValue2[0].user,dispatch=_useStateValue2[1];Object(react[\"useEffect\"])(function(){if(roomId){firebase.collection(\"rooms\").doc(roomId).onSnapshot(function(snapshot){return setRoomName(snapshot.data().name);});firebase.collection(\"rooms\").doc(roomId).collection(\"messages\").orderBy(\"timestamp\",\"asc\").onSnapshot(function(snapshot){return setMessages(snapshot.docs.map(function(doc){return doc.data();}));});}},[roomId]);Object(react[\"useEffect\"])(function(){setSeed(Math.floor(Math.random()*5000));},[]);var sendMessage=function sendMessage(e){e.preventDefault();firebase.collection('rooms').doc(roomId).collection('messages').add({message:input,name:user.displayName,timestamp:index_esm[\"a\" /* default */].firestore.FieldValue.serverTimestamp()});setInput(\"\");};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"chat\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"chat__header\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Avatar[\"a\" /* default */],{src:\" http://avatars.dicebear.com/api/human/\"+seed+\".svg\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"chat__headerInfo\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:roomName}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{children:[\"Last seen\",\" \",new Date((_messages=messages[messages.length-1])===null||_messages===void 0?void 0:(_messages$timestamp=_messages.timestamp)===null||_messages$timestamp===void 0?void 0:_messages$timestamp.toDate()).toUTCString()]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"chat__headerright\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(esm_SearchOutlined[\"a\" /* default */],{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AttachFile[\"a\" /* default */],{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(esm_MoreVert[\"a\" /* default */],{})})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"chat__body\",children:messages.map(function(message){var _message$timestamp;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{className:\"chat__message \".concat(message.name===user.displayName&&'chat__reciever'),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"chat__name\",children:message.name}),message.message,/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"chat__timestamp\",children:new Date((_message$timestamp=message.timestamp)===null||_message$timestamp===void 0?void 0:_message$timestamp.toDate()).toUTCString()})]});})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"chat__footer\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(InsertEmoticon_default.a,{}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:input,onChange:function onChange(e){return setInput(e.target.value);},placeholder:\"Type a message\",type:\"text\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",onClick:sendMessage,children:\"send a message\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Mic_default.a,{})]})]});}/* harmony default export */ var src_Chat_0 = (Chat_Chat);\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectDestructuringEmpty.js\nvar objectDestructuringEmpty = __webpack_require__(63);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/WhatsApp.js\nvar WhatsApp = __webpack_require__(64);\nvar WhatsApp_default = /*#__PURE__*/__webpack_require__.n(WhatsApp);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Button/Button.js\nvar Button = __webpack_require__(111);\n\n// EXTERNAL MODULE: ./src/Login.css\nvar Login = __webpack_require__(91);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js + 1 modules\nvar objectSpread2 = __webpack_require__(49);\n\n// CONCATENATED MODULE: ./src/reducer.js\nvar reducer_initialState={user:null};var actionTypes={SET_USER:\"SET_USER\"};var reducer_reducer=function reducer(state,action){console.log(action);switch(action.type){case actionTypes.SET_USER:return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{user:action.user});default:return state;}};/* harmony default export */ var src_reducer = (reducer_reducer);\n// CONCATENATED MODULE: ./src/Login.js\nfunction Login_Login(){var _useStateValue=StateProvider_useStateValue(),_useStateValue2=Object(slicedToArray[\"a\" /* default */])(_useStateValue,2);Object(objectDestructuringEmpty[\"a\" /* default */])(_useStateValue2[0]);var dispatch=_useStateValue2[1];var signIn=function signIn(){auth.signInWithPopup(provider).then(function(result){dispatch({type:actionTypes.SET_USER,user:result.user});}).catch(function(error){return alert(error.message);});};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"Login\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"login__container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WhatsApp_default.a,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"login__text\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"Sign In\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{type:\"submit\",onClick:signIn,children:\"Sign in with Google\"})]})});}/* harmony default export */ var src_Login = (Login_Login);\n// CONCATENATED MODULE: ./src/App.js\nfunction App_App(){var _useStateValue=StateProvider_useStateValue(),_useStateValue2=Object(slicedToArray[\"a\" /* default */])(_useStateValue,2),user=_useStateValue2[0].user,dispatch=_useStateValue2[1];return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"App\",children:!user?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_Login,{}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"app__body\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router_dom[\"a\" /* BrowserRouter */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_Sidebar,{}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"c\" /* Switch */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/rooms/:roomId\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_Chat_0,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_Chat_0,{})})]})]})})});}/* harmony default export */ var src_App = (App_App);\n// CONCATENATED MODULE: ./src/reportWebVitals.js\nvar reportWebVitals=function reportWebVitals(onPerfEntry){if(onPerfEntry&&onPerfEntry instanceof Function){__webpack_require__.e(/* import() */ 3).then(__webpack_require__.bind(null, 113)).then(function(_ref){var getCLS=_ref.getCLS,getFID=_ref.getFID,getFCP=_ref.getFCP,getLCP=_ref.getLCP,getTTFB=_ref.getTTFB;getCLS(onPerfEntry);getFID(onPerfEntry);getFCP(onPerfEntry);getLCP(onPerfEntry);getTTFB(onPerfEntry);});}};/* harmony default export */ var src_reportWebVitals = (reportWebVitals);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(StateProvider_StateProvider,{initialState:reducer_initialState,reducer:src_reducer,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})})}),document.getElementById('root'));// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nsrc_reportWebVitals();\n\n/***/ })\n\n},[[93,1,2]]]);","inputSourceMap":{"version":3,"sources":["C:\\Users\\DELL\\OneDrive\\Desktop\\whatsApp clone\\whatsappclone\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\DELL\\OneDrive\\Desktop\\whatsApp clone\\whatsappclone\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\DELL\\OneDrive\\Desktop\\whatsApp clone\\whatsappclone\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\DELL\\OneDrive\\Desktop\\whatsApp clone\\whatsappclone\\src\\index.css","C:\\Users\\DELL\\OneDrive\\Desktop\\whatsApp clone\\whatsappclone\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\DELL\\OneDrive\\Desktop\\whatsApp clone\\whatsappclone\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\DELL\\OneDrive\\Desktop\\whatsApp clone\\whatsappclone\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\DELL\\OneDrive\\Desktop\\whatsApp clone\\whatsappclone\\src\\App.css","C:\\Users\\DELL\\OneDrive\\Desktop\\whatsApp clone\\whatsappclone\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\DELL\\OneDrive\\Desktop\\whatsApp clone\\whatsappclone\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\DELL\\OneDrive\\Desktop\\whatsApp clone\\whatsappclone\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\DELL\\OneDrive\\Desktop\\whatsApp clone\\whatsappclone\\src\\Sidebar.css","C:\\Users\\DELL\\OneDrive\\Desktop\\whatsApp clone\\whatsappclone\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\DELL\\OneDrive\\Desktop\\whatsApp clone\\whatsappclone\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\DELL\\OneDrive\\Desktop\\whatsApp clone\\whatsappclone\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\DELL\\OneDrive\\Desktop\\whatsApp clone\\whatsappclone\\src\\SidebarChat.css","C:\\Users\\DELL\\OneDrive\\Desktop\\whatsApp clone\\whatsappclone\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\DELL\\OneDrive\\Desktop\\whatsApp clone\\whatsappclone\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\DELL\\OneDrive\\Desktop\\whatsApp clone\\whatsappclone\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\DELL\\OneDrive\\Desktop\\whatsApp clone\\whatsappclone\\src\\Chat.css","C:\\Users\\DELL\\OneDrive\\Desktop\\whatsApp clone\\whatsappclone\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\DELL\\OneDrive\\Desktop\\whatsApp clone\\whatsappclone\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\DELL\\OneDrive\\Desktop\\whatsApp clone\\whatsappclone\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\DELL\\OneDrive\\Desktop\\whatsApp clone\\whatsappclone\\src\\Login.css","C:/Users/DELL/OneDrive/Desktop/whatsApp clone/whatsappclone/src/firebase.js","C:/Users/DELL/OneDrive/Desktop/whatsApp clone/whatsappclone/src/SidebarChat.js","C:/Users/DELL/OneDrive/Desktop/whatsApp clone/whatsappclone/src/StateProvider.js","C:/Users/DELL/OneDrive/Desktop/whatsApp clone/whatsappclone/src/Sidebar.js","C:/Users/DELL/OneDrive/Desktop/whatsApp clone/whatsappclone/src/Chat.js","C:/Users/DELL/OneDrive/Desktop/whatsApp clone/whatsappclone/src/reducer.js","C:/Users/DELL/OneDrive/Desktop/whatsApp clone/whatsappclone/src/Login.js","C:/Users/DELL/OneDrive/Desktop/whatsApp clone/whatsappclone/src/App.js","C:/Users/DELL/OneDrive/Desktop/whatsApp clone/whatsappclone/src/reportWebVitals.js","C:/Users/DELL/OneDrive/Desktop/whatsApp clone/whatsappclone/src/index.js"],"names":["dotenv","config","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","firebaseApp","firebase","initializeApp","db","firestore","auth","provider","GoogleAuthProvider","SidebarChat","id","name","addNewChat","useState","seed","setSeed","messages","setMessages","useEffect","collection","doc","orderBy","onSnapshot","snapshot","docs","map","data","Math","floor","random","createChat","roomName","prompt","add","message","StateContext","createContext","StateProvider","reducer","initialState","children","useReducer","useStateValue","useContext","Sidebar","rooms","setRooms","user","dispatch","unsubscribe","photoURL","room","Chat","input","setInput","useParams","roomId","setRoomName","sendMessage","e","preventDefault","displayName","timestamp","FieldValue","serverTimestamp","Date","length","toDate","toUTCString","target","value","actionTypes","SET_USER","state","action","console","log","type","Login","signIn","signInWithPopup","then","result","catch","error","alert","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// For Firebase JS SDK v7.20.0 and later, measurementId is optional\r\nimport firebase from \"firebase\";\r\nimport dotenv from \"dotenv\";\r\n\r\ndotenv.config();\r\n\r\nconst firebaseConfig ={\r\n  apiKey: \"AIzaSyAjrkUGPTcGDkx7w6CMFhRFpwH3fkUPaKk\",\r\n  authDomain: \"whats-app-clone-c4173.firebaseapp.com\",\r\n  projectId: \"whats-app-clone-c4173\",\r\n  storageBucket: \"whats-app-clone-c4173.appspot.com\",\r\n  messagingSenderId: \"149483622254\",\r\n  appId: \"1:149483622254:web:a21fe8e21462ea8386bb7f\",\r\n  measurementId: \"G-2FC9XJBYCB\"\r\n};\r\n\r\n\r\n// process.env.FIREBASE;\r\n\r\n\r\n\r\n  const firebaseApp = firebase.initializeApp(firebaseConfig);\r\n\r\n  const db = firebaseApp.firestore();\r\n\r\n  const auth = firebase.auth();\r\n\r\n  const provider = new firebase.auth.GoogleAuthProvider();\r\n\r\n  export {auth , provider};\r\n  export default db;","import React ,{useEffect ,useState} from 'react';\r\nimport \"./SidebarChat.css\";\r\nimport {Avatar} from \"@material-ui/core\"\r\nimport db from './firebase';\r\nimport {Link} from \"react-router-dom\" ;\r\n\r\n\r\nfunction SidebarChat({id,name,addNewChat}) {\r\n    const [seed,setSeed] = useState('');\r\n    const [messages,setMessages] = useState(\"\");\r\n\r\n    useEffect(() => {\r\n        if(id) {\r\n            db.collection('rooms')\r\n            .doc(id).collection(\"messages\")\r\n            .orderBy('timestamp',\"desc\")\r\n            .onSnapshot((snapshot) => (\r\n                    setMessages(snapshot.docs.map((doc) =>\r\n                        doc.data()))\r\n                    ));\r\n        }\r\n    },[]);\r\n\r\n    useEffect(()=>{\r\n        setSeed(Math.floor(Math.random()* 5000));\r\n    },[]);\r\n\r\n    const createChat= () => {\r\n        const roomName = prompt(\"Please enter name for chat\");\r\n\r\n        if(roomName) {\r\n            //do somet\r\n            db.collection('rooms').add({\r\n                name:roomName,\r\n            })\r\n        }\r\n    };\r\n\r\n    return !addNewChat ? (\r\n        <Link to={`/rooms/${id}`}>\r\n                <div className=\"sidebarChat\">\r\n            <Avatar src={\" http://avatars.dicebear.com/api/human/\"+seed+\".svg\"} />\r\n            <div className=\"sidebarChat__info\">\r\n                <h2>{name}</h2>\r\n                <p>{messages[0]?.message}</p>\r\n            </div>\r\n        </div>\r\n        </Link>\r\n        \r\n    ) : (\r\n        <div onClick ={createChat} className=\"sidebarChat\">\r\n            <h2>add new chat</h2>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SidebarChat","import React ,{ createContext ,useContext,useReducer} from 'react';\r\n\r\nexport const StateContext = createContext();\r\n\r\nexport const StateProvider = ({ reducer,initialState,children}) => (\r\n<StateContext.Provider value={useReducer(reducer,initialState)}>\r\n    {children}\r\n</StateContext.Provider>\r\n);\r\n\r\nexport const useStateValue = () => useContext(StateContext);\r\n   \r\n\r\n","import React, { useEffect,useState } from 'react';\r\nimport './Sidebar.css';\r\nimport {Avatar, IconButton} from  '@material-ui/core';\r\nimport DonutLargeicon from \"@material-ui/icons/DonutLarge\";\r\nimport ChatIcon from \"@material-ui/icons/Chat\";\r\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\r\nimport SearchOutlined from \"@material-ui/icons/SearchOutlined\";\r\nimport SidebarChat from \"./SidebarChat\";\r\nimport db from \"./firebase\";\r\nimport { useStateValue } from './StateProvider';\r\n\r\n\r\n\r\nfunction Sidebar() {\r\nconst [rooms,setRooms]=useState([]);\r\nconst [{user},dispatch] = useStateValue();\r\n\r\nuseEffect(() => {\r\n   const unsubscribe = db.collection('rooms').onSnapshot(snapshot => (\r\n        setRooms(snapshot.docs.map((doc) => \r\n            ({\r\n                id: doc.id,\r\n                data: doc.data(),\r\n            })\r\n        ))\r\n    ))\r\n\r\n    return () => {\r\n        unsubscribe();\r\n    };\r\n},[])\r\n\r\n\r\n    return (\r\n        <div className=\"sidebar\">\r\n          \r\n            <div className=\"sidebar__header\">\r\n                <Avatar src={user?.photoURL}/>\r\n                <div className=\"sidebar__rightheader\">\r\n                    <IconButton>\r\n                        <DonutLargeicon />\r\n                    </IconButton>   \r\n                    <IconButton>\r\n                        <ChatIcon />\r\n                    </IconButton>\r\n                    <IconButton>\r\n                        <MoreVertIcon/>\r\n                    </IconButton>\r\n                </div>\r\n            </div>\r\n            \r\n            <div className=\"sidebar__search\">\r\n                <div                className=\"sidebar__searchcontainer\">\r\n                    <SearchOutlined/>\r\n                    <input placeholder=\"Search or start new Chat\" type=\"text\"/>\r\n                </div>\r\n            </div>\r\n            <div className=\"sidebar__chat\">\r\n                <SidebarChat addNewChat />\r\n                {rooms.map((room) => (\r\n                    <SidebarChat key={room.id} id={room.id}\r\n                    name={room.data.name}/>\r\n                    ))}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Sidebar\r\n","import React,{useState,useEffect} from 'react'\r\nimport \"./Chat.css\"\r\nimport {Avatar, IconButton} from \"@material-ui/core\";\r\nimport {AttachFile,MoreVert ,SearchOutlined  } from \"@material-ui/icons\";\r\nimport InsertEmoticonIcon from \"@material-ui/icons/InsertEmoticon\";\r\nimport MicIcon from \"@material-ui/icons/Mic\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport db from './firebase';\r\nimport { useStateValue } from './StateProvider';\r\nimport firebase from \"firebase\";\r\n\r\nfunction Chat() {\r\n    const [input,setInput]=useState(\"\")\r\n    const [seed,setSeed] = useState('');\r\n    const { roomId } = useParams();\r\n    const [roomName,setRoomName] = useState(\"\");\r\n    const [messages,setMessages] = useState([]);\r\n    const [{user},dispatch]= useStateValue();\r\n\r\n    useEffect(() => {\r\n        if(roomId) {\r\n            db.collection(\"rooms\")\r\n            .doc(roomId)\r\n            .onSnapshot(snapshot => \r\n            setRoomName(snapshot.data().name));\r\n\r\n            db.collection(\"rooms\")\r\n            .doc(roomId)\r\n            .collection(\"messages\")\r\n            .orderBy(\"timestamp\",\"asc\")\r\n            .onSnapshot((snapshot) => \r\n                setMessages(snapshot.docs.map((doc) => \r\n                doc.data()))\r\n                );\r\n        }\r\n    },[roomId])\r\n\r\n    useEffect(()=>{\r\n        setSeed(Math.floor(Math.random()* 5000));\r\n    },[]);\r\n\r\n    const sendMessage = (e) => {\r\n        e.preventDefault();\r\n        db.collection('rooms').doc(roomId).collection\r\n        ('messages').add({\r\n            message: input,\r\n            name: user.displayName,\r\n            timestamp: firebase.firestore.FieldValue.serverTimestamp(), \r\n        })\r\n\r\n        setInput(\"\");\r\n    }\r\n\r\n    return (\r\n        <div className=\"chat\">\r\n            <div className=\"chat__header\">\r\n                <Avatar src={\" http://avatars.dicebear.com/api/human/\"+seed+\".svg\"}/>\r\n                <div className=\"chat__headerInfo\">\r\n                    <h3>{roomName}</h3>\r\n                    <p>Last seen{\" \"}\r\n                    {new Date(\r\n                        messages[messages.length - 1]?.\r\n                        timestamp?.toDate())\r\n                        .toUTCString()}\r\n                        </p>\r\n                </div>\r\n                <div className=\"chat__headerright\">\r\n                    <IconButton>\r\n                        <SearchOutlined/>\r\n                    </IconButton>\r\n                    <IconButton>\r\n                        <AttachFile/>\r\n                    </IconButton>\r\n                    <IconButton>\r\n                        <MoreVert/>\r\n                    </IconButton>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"chat__body\">\r\n                {messages.map((message) =>\r\n                <p className={`chat__message ${message.name === user.displayName &&\r\n                'chat__reciever'}`}> \r\n                <span className=\"chat__name\">\r\n                    {message.name}</span>\r\n                    {message.message}\r\n                    <span className=\"chat__timestamp\">\r\n                        {new Date(message.timestamp?.toDate()).toUTCString()}\r\n                    </span>\r\n                </p>\r\n                )}\r\n            </div>\r\n            <div className=\"chat__footer\">\r\n                   <InsertEmoticonIcon/>\r\n                   <form>\r\n                       <input value ={input} onChange={e => setInput(e.target.value)} placeholder=\"Type a message\"type=\"text\"/>\r\n                       <button type=\"submit\" onClick={sendMessage}>send a message</button>\r\n                    </form>\r\n                    <MicIcon/>\r\n            </div>\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Chat\r\n","export const initialState = {\r\n    user:null,\r\n}\r\n\r\nexport const actionTypes = {\r\n    SET_USER: \"SET_USER\",\r\n};\r\n\r\nconst reducer = (state,action) => {\r\n    console.log(action);\r\n    switch(action.type) {\r\n        case actionTypes.SET_USER:\r\n            return {\r\n                ...state,\r\n                user: action.user,\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default reducer;","import React from 'react'\r\nimport WhatsAppIcon from '@material-ui/icons/WhatsApp';\r\nimport { Button } from '@material-ui/core';\r\nimport \"./Login.css\";\r\nimport { auth, provider } from './firebase';\r\nimport {useStateValue} from \"./StateProvider\";\r\nimport {actionTypes } from \"./reducer\";\r\n\r\nfunction Login() {\r\n    const [{},dispatch] = useStateValue();\r\n\r\n\r\n    const signIn = () => {\r\n        auth.signInWithPopup(provider)\r\n        .then((result) =>{ dispatch({\r\n            type: actionTypes.SET_USER,\r\n            user: result.user,\r\n        })\r\n     })\r\n        .catch((error)=> alert(error.message));\r\n    };\r\n\r\n\r\n    return (\r\n        <div className=\"Login\">\r\n            <div className=\"login__container\">\r\n                <WhatsAppIcon/>\r\n            \r\n            <div className=\"login__text\">\r\n                <h1>Sign In</h1>\r\n            </div>\r\n\r\n\r\n            <Button type=\"submit\" onClick={signIn}>\r\n                Sign in with Google\r\n            </Button>\r\n        </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login\r\n","import './App.css';\nimport React,{useState} from \"react\";\nimport Sidebar from \"./Sidebar\";\nimport Chat from \"./Chat\";\nimport Login from \"./Login\";\nimport { BrowserRouter as Router,Route,Switch } from \"react-router-dom\";\nimport {useStateValue}  from \"./StateProvider\";\n\n\nfunction App() {\n  const [{user},dispatch]= useStateValue();\n\n\n  return (\n    <div className=\"App\">\n      {!user ? (\n        <Login/>\n      ):(\n      <div className=\"app__body\">\n      <Router>\n              <Sidebar/>\n            <Switch>\n          <Route path=\"/rooms/:roomId\">\n              <Chat/>\n          </Route>\n          <Route path=\"/\">\n          <Chat/>\n          </Route>\n        </Switch>\n      </Router>\n      </div>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport reducer, { initialState} from \"./reducer\";\nimport {StateProvider} from \"./StateProvider\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <StateProvider initialState={initialState}\n    reducer={reducer}>\n          <App />\n    </StateProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"]}}